<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using IatiTidy • IatiTidy</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using IatiTidy">
<meta property="og:description" content="IatiTidy">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">IatiTidy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/IatiTidy.html">Using IatiTidy for FTS</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/unhcr-americas/IatiTidy/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="IatiTidy_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using IatiTidy</h1>
            
            <h4 class="date">2021-01-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/unhcr-americas/IatiTidy/blob/master/vignettes/IatiTidy.Rmd"><code>vignettes/IatiTidy.Rmd</code></a></small>
      <div class="hidden name"><code>IatiTidy.Rmd</code></div>

    </div>

    
    
<p>To understand how the <a href="https://fts.unocha.org/">UNOCHA Financial Tracking Service</a> is working, you can wathc this <a href="https://www.youtube.com/watch?v=Dlh9mQnFlLM&amp;t=3s">intro video</a></p>
<p>OCHA has looked at building interoperrability with IATI through a <a href="https://fts.unocha.org/content/iati-fts-pilot-key-learning">pilot project in 2019/2020</a>, resulting in <a href="https://iatistandard.org/en/news/lessons-from-connecting-iati-and-fts/">Lessons from connecting IATI And FTS</a> and the following report: <a href="https://fts.unocha.org/sites/default/files/2020-10/improving-humanitarian-transparency-with-the-iati-and-the-un-ocha-fts.pdf">Improving humanitarian transparency with the International Aid Transparency Initiative (IATI)and the UN OCHA Financial Tracking Service (FTS)</a></p>
<p>First we can pull data from the API with the <code>get_FTS</code> function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ftsflow2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_FTS.html">get_FTS</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://api.hpc.tools"</span>,
                    ext <span class="op">=</span> <span class="st">"/v1/public/fts/flow?"</span>,
                    boundary <span class="op">=</span> <span class="st">"year=2019"</span>,
                    limit <span class="op">=</span> <span class="st">"&amp;limit=1000"</span><span class="op">)</span>
<span class="co">#&gt; successful API Query</span>
<span class="va">ftsflow2019</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_FTS.html">get_FTS</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://api.hpc.tools"</span>,
                    ext <span class="op">=</span> <span class="st">"/v1/public/fts/flow?"</span>,
                    boundary <span class="op">=</span> <span class="st">"year=2020"</span>,
                    limit <span class="op">=</span> <span class="st">"&amp;limit=1000"</span><span class="op">)</span>
<span class="co">#&gt; successful API Query</span></code></pre></div>
<p>Let’s look at the structure of the output</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">ftsflow2020</span><span class="op">)</span>
<span class="co">#&gt; [1] "flowCount"    "fundingTotal" "pledgeTotal"</span></code></pre></div>
<p>and the content:</p>
<table class="table">
<colgroup>
<col width="0%">
<col width="7%">
<col width="42%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">flowCount</th>
<th align="left">fundingTotal</th>
<th align="left">pledgeTotal</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">init</td>
<td align="left">13132</td>
<td align="left">24805095396</td>
<td align="left">33087222</td>
</tr>
<tr class="even">
<td align="left">X</td>
<td align="left">1553</td>
<td align="left">2344607387</td>
<td align="left">7127329</td>
</tr>
<tr class="odd">
<td align="left">X.1</td>
<td align="left">3451</td>
<td align="left">3451</td>
<td align="left">3451</td>
</tr>
<tr class="even">
<td align="left">X.2</td>
<td align="left">124682 , 6988564 , 2014 , financial , 2019-06-22T04:25:33.583Z , 2014-10-02T00:00:00Z , 2014-10-02T00:00:00Z , Food security (2014.0972.1) , earmarked , 0.787 , 2014-10-03T00:00:00Z , Parked , Food , Multiyear , TRUE , 5500000 , EUR , Traditional aid , commitment , 2019-06-24T08:24:25.205Z , 2 , Organization , 4306 , Germany, Government of , single , Government , National government , Location , 83 , Germany , single , UsageYear , 34 , 2014 , single , Organization , 2987 , Deutsche Gesellschaft fÃ¼r Internationale Zusammenarbeit, single , Private organization/foundation , International organization/foundation/individual , GlobalCluster , 6 , Food Security , single , Location , 38 , Cambodia , single , UsageYear , 34 , 2014 , shared , UsageYear , 37 , 2015 , shared , UsageYear , 36 , 2016 , shared , UsageYear , 38 , 2017 , shared , UsageYear , 39 , 2018 , shared , UsageYear , 40 , 2019 , shared , UsageYear , 41 , 2020 , shared , incoming , shared , Primary , Germany, Government of , From EDRIS , 2019-06-21T00:00:00.000Z , 2014.0972.1</td>
<td align="left">127925 , 10254605 , 2015 , financial , 2019-06-22T04:25:34.256Z , 2015-04-15T00:00:00Z , 2015-04-15T00:00:00Z , (Shan State) The aim of the plan is to improve the food situation of farmers population in Shan State. The plan concentrates his activities upon mountain villages and communities close to the border in the Shan State in which many households straightened on subsistence agriculture are food-threatened. (2015.1800.0), earmarked , 0.923 , 2015-04-25T00:00:00Z , Parked , Multiyear , TRUE , 9465000 , EUR , Traditional aid , commitment , 2019-06-24T08:23:36.527Z , 5 , Organization , 4306 , Germany, Government of , single , Government , National government , Location , 83 , Germany , single , UsageYear , 37 , 2015 , single , Organization , 2987 , Deutsche Gesellschaft fÃ¼r Internationale Zusammenarbeit , single , Private organization/foundation , International organization/foundation/individual , GlobalCluster , 26480 , Coordination and support services , shared , GlobalCluster , 4 , Emergency Shelter and NFI , shared , GlobalCluster , 8 , Logistics , shared , Location , 153 , Myanmar , single , UsageYear , 42 , 2021 , shared , UsageYear , 41 , 2020 , shared , UsageYear , 40 , 2019 , shared , UsageYear , 39 , 2018 , shared , UsageYear , 38 , 2017 , shared , UsageYear , 36 , 2016 , shared , UsageYear , 37 , 2015 , shared , incoming , shared , Primary , Germany, Government of , From EDRIS , 2019-06-21T00:00:00.000Z , 2015.1800.0</td>
<td align="left">131935 , 0 , 2015 , 161967 , 161968 , 161969 , 161970 , 166684 , 166688 , 166689 , 166710 , 167995 , 177874 , 184731 , 184732 , 198023 , financial , 2017-12-07T04:25:16.166Z , 2015-07-23T00:00:00Z , 2015-07-23T00:00:00Z , Multi-year basic relief (NFIs and fuel vouchers) for vulnerable IDPs who have fled acute violence in Iraq Financial year 2015: 1.000.000,00 â‚¬ 2016: 3.000.000,00 â‚¬ 2017: 5.000.000,00â‚¬ 2018: 2.000.000,00â‚¬ Top up financial year 2017: 4.000.000,00 â‚¬ 2018: 1.000.000,00 â‚¬ 2019: 2.000.000,00 â‚¬ 2018: 500.000,00â‚¬ 2019: 1.500.000,00 â‚¬ (AA-S05-321.50 IRQ 13/15), earmarked , 0.905 , 2015-07-25T00:00:00Z , Parked , Multiyear , TRUE , 0 , EUR , Traditional aid , commitment , 2019-09-19T23:22:37.082Z , 4 , Organization , 4306 , Germany, Government of , single , Government , National government , Location , 83 , Germany , single , UsageYear , 37 , 2015 , single , Organization , 2986 , International Organization for Migration , single , UN agency , Location , 106 , Iraq , single , UsageYear , 37 , 2015 , shared , UsageYear , 38 , 2017 , shared , UsageYear , 40 , 2019 , shared , UsageYear , 39 , 2018 , shared , UsageYear , 36 , 2016 , shared , incoming , shared , Primary , Deutsche Gesellschaft fÃ¼r Internationale Zusammenarbeit , From EDRIS , 2017-12-13T00:00:00.000Z , Primary , Germany, Government of , From EDRIS , 2019-01-31T00:00:00.000Z , AA-S05-321.50 IRQ 13/15</td>
</tr>
</tbody>
</table>
</div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Edouard Legoupil.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
